#include <stdio.h>
#include <stdbool.h>
#define MAX 100

void dfs(int adj[MAX][MAX], int V, int s, bool visited[MAX]) {
    printf("%d ", s);
    visited[s] = true;
    for (int i = 0; i < V; i++)
        if (adj[s][i] && !visited[i]) dfs(adj, V, i, visited);
}

int main() {
    int V, E, adj[MAX][MAX] = {0}, u, v, start;
    bool visited[MAX] = {false};
    printf("Enter vertices, edges: ");
    scanf("%d %d", &V, &E);
    printf("Enter edges:\n");
    while (E--) { scanf("%d %d", &u, &v); adj[u][v] = adj[v][u] = 1; }
    printf("Enter start vertex: ");
    scanf("%d", &start);
    printf("DFS starting from %d:\n", start);
    dfs(adj, V, start, visited);
    return 0;
}
